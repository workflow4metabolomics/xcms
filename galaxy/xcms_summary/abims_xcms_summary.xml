<tool id="abims_xcms_summary" name="xcms.summary" version="1.0.1">
    
    <description>Create a summary of XCMS analysis</description>

    <macros>
        <import>macros.xml</import>
    </macros>    

    <requirements>
        <requirement type="package" version="3.1.2">R</requirement>
        <requirement type="package" version="1.22.0">bioconductor-camera</requirement>
        <requirement type="package" version="1.1_4">r-batch</requirement>
    </requirements>
    
    <expand macro="stdio"/>
    
    <command><![CDATA[
        $__tool_directory__/xcms_summary.r

        image $image 
        htmlOutput $htmlOutput
        user_email $__user_email__
       
    ]]></command>
    
    <inputs>

        <param name="image" type="data" format="rdata.xcms.raw,rdata.xcms.group,rdata.xcms.retcor,rdata.xcms.fillpeaks,rdata.camera.quick,rdata.camera.positive,rdata.camera.negative,rdata" label="xset RData file" help="output file from another function xcms (xcmsSet, group, retcor, fillpeaks etc.)" />

    </inputs>
    
    <outputs>
        <data name="htmlOutput" format="html" label="xcms summary html" />
    </outputs>
    
    <tests>
        <test>
            <param name="image" value="fillpeaks.RData" />
            <output name="htmlOutput" file="summary.html" />
        </test>
    </tests>
    
    <help><![CDATA[
        
@HELP_AUTHORS@

============
Xcms.summary
============

-----------
Description
-----------

This tool provide a HTML summary which summarizes your analysis using the [W4M] XCMS and CAMERA tools 


---------------------------------------------------

Changelog/News
--------------

**Version 1.0.1 - 04/04/2016**

- TEST: refactoring to pass planemo test using conda dependencies


**Version 1.0.0 - 10/02/2016**

- NEW: Create a summary of XCMS analysis


    ]]></help>


    <expand macro="citation" />

</tool>
